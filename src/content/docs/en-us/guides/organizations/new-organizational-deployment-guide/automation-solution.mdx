---
order: 46
xref: organizational-automation-solution
title: Automation Solution
description: Information on deploying an automation solution for Chocolatey For Business
---
import Callout from '@choco-astro/components/Callout.astro';
import Xref from '@components/Xref.astro';
import Iframe from '@choco-astro/components/Iframe.astro';
import TabsPane from '@choco-astro/components/tabs/TabsPane.astro';
import TabsPaneContainer from '@choco-astro/components/tabs/TabsPaneContainer.astro';
import TabsTabContainer from '@choco-astro/components/tabs/TabsTabContainer.astro';
import DynamicCodeBlockInput from '@choco-astro/components/dynamicCodeBlock/DynamicCodeBlockInput.astro';
import DynamicCodeBlock from '@choco-astro/components/dynamicCodeBlock/DynamicCodeBlock.astro';
import OrgGuidePackageAutomationIntro from '@components/docs/OrgGuidePackageAutomationIntro.mdx';
import JenkinsHardwareRecommendations from '@components/docs/JenkinsHardwareRecommendations.mdx'

<OrgGuidePackageAutomationIntro />

export const automationpipeline = [
    { id: 'jenkins', title: 'Jenkins', isActive:true },
    // { id: 'powershelluniversal', title: 'PowerShell Universal' },
    // { id: 'githubactions', title: 'GitHub Actions' },
];

<TabsTabContainer content={automationpipeline} />
<TabsPaneContainer>
    <TabsPane content={automationpipeline[0]}>
        <JenkinsHardwareRecommendations />

        #### Jenkins Installation

        <Callout type="info" title="Air-gapped Installation">
            If you are deploying the server in an air-gapped environment, please download the script and transfer it to the server before continuing with the installation.

            ```powershell
            Set-ExecutionPolicy RemoteSigned -Scope Process -Force
            .\path\to\Install-C4BAutomationPlatformJenkins.ps1 @RepositoryArgs
            ```
        </Callout>

        This install script will:

        - Install TemurinJRE and Jenkins.
        - Secure Jenkins with an SSL certificate.
        - Run initial setup steps on Jenkins.
        - Install the standard jobs included in Chocolatey for Business.

        #### Environment Information

        Please provide the following information to configure the Jenkins installation:

        | Variable | Value | Usage |
        | -------- | ----- | ----- |
        | Production Repository URL | <DynamicCodeBlockInput name="OrgGuideProductionRepositoryName" defaultValue="ExampleProd" /> | Your internal production repository for tested packages. |
        | Test Repository URL | <DynamicCodeBlockInput name="OrgGuideTestRepositoryName" defaultValue="ExampleTest" /> | Your internal test repository for untested packages. |
        | Repository User Name | <DynamicCodeBlockInput name="OrgGuideRepoUserName" defaultValue="chocopackagepusher" /> | The user for managing Chocolatey Packages on the repository. |
        | Repository User Password | <DynamicCodeBlockInput name="OrgGuideRepoUserPassword" defaultValue="somePassword" /> | The password for the user account listed above. |
        | Repository API Key | <DynamicCodeBlockInput name="OrgGuideUserRepoApiKey" defaultValue="0057bf69-61af-4e86-b9a3-64521fc04722" /> | The API key for pushing Chocolatey packages to the repository. |
        | Thumbprint | <DynamicCodeBlockInput name="OrgGuideCertificateThumbprint" defaultValue="Unchanged" /> | Optional: The certificate thumbprint to secure Jenkins with SSL. |

        If providing a **Thumbprint**, you must install the certificate to the **Local Machine / Trusted People** store before running the script.

        #### Jenkins Install Script

<DynamicCodeBlock language="powershell">
{`
$RepositoryArgs = @{
    ProductionRepositoryUrl = 'OrgGuideProductionRepositoryName'
    TestRepositoryUrl = 'OrgGuideTestRepositoryName'
    RepositoryUser = [PSCredential]::new(
        'OrgGuideRepoUserName',
        (ConvertTo-SecureString 'OrgGuideRepoUserPassword' -Force -AsPlainText)
    )
    RepositoryApiKey = (ConvertTo-SecureString 'OrgGuideRepoApiKey' -Force -AsPlainText)
}

$Thumbprint = 'OrgGuideCertificateThumbprint'
if ($Thumbprint -ne 'Unchanged') {
    $RepositoryArgs.Thumbprint = $Thumbprint
}

$InstallScript = [System.Net.WebClient]::new().DownloadString('https://ch0.co/OrgGuide-AutomationPlatform-Jenkins')
& ([Scriptblock]::Create($InstallScript)) @RepositoryArgs
`}
</DynamicCodeBlock>

        #### Usage

        There are three jobs that have been installed:

        - **Internalize packages from the Community Repository**  
            This job allows you to provide package IDs from the Chocolatey Community Repository, and the latest version of those packages will be internalized and added to your repository.
        - **Update test repository from Chocolatey Community Repository**  
            This job runs on a schedule, and updates any packages on your test repository to the latest version available on the Chocolatey Community Repository.
        - **Update production repository**  
            This job runs after the **Update test repository[...]** job, and promotes packages from the test repository that pass any testing you implement to the production repository.

        To use your fresh new jobs, you should navigate to the Jenkins dashboard and attempt to `build` one of the jobs.

        <Iframe ratio="16x9" link="https://www.youtube.com/embed/XiyzBIofDiE?si=cbZgLpsH77gEiV0R" title="Running Jenkins Jobs" />
<Xref title="Back To Top" value="organizational-automation-solution"/>
    </TabsPane>
</TabsPaneContainer>

## Next Steps

Select **Start Over** to return to the Organizational Guide introduction page.

Select **Previous** to return to Repository Solution setup, or **Next** to move on to Chocolatey Central Management setup.

<div class="d-flex justify-content-between align-items-center">
    <a role="button" class="btn btn-primary btn-lg" href="/en-us/guides/organizations/new-organizational-deployment-guide/">Start Over</a>
    <div>
        <a role="button" class="btn btn-primary btn-lg" href="/en-us/guides/organizations/new-organizational-deployment-guide/repository-solution">< Previous</a>
        <a role="button" class="btn btn-primary btn-lg" href="/en-us/guides/organizations/new-organizational-deployment-guide/setup-central-management">Next ></a>
    </div>
</div>