---
order: 45
xref: organizational-repository-solution
title: Repository Solution
description: Information on deploying a repository solution for Chocolatey For Business
---
import Callout from '@choco-astro/components/Callout.astro';
import Xref from '@components/Xref.astro';
import Iframe from '@choco-astro/components/Iframe.astro';
import TabsPane from '@choco-astro/components/tabs/TabsPane.astro';
import TabsPaneContainer from '@choco-astro/components/tabs/TabsPaneContainer.astro';
import TabsTabContainer from '@choco-astro/components/tabs/TabsTabContainer.astro';
import DynamicCodeBlockInput from '@choco-astro/components/dynamicCodeBlock/DynamicCodeBlockInput.astro';
import DynamicCodeBlock from '@choco-astro/components/dynamicCodeBlock/DynamicCodeBlock.astro';
import OrgGuideRepositoryIntro from '@components/docs/OrgGuideRepositoryIntro.mdx';
import SonatypeNexusHardwareRecommendations from '@components/docs/SonatypeNexusHardwareRecommendations.mdx'

<OrgGuideRepositoryIntro />

export const repository = [
        {id: 'sonatypenexus', title: 'Sonatype Nexus', isActive: true}
]

<TabsTabContainer content={repository} />
<TabsPaneContainer>
    <TabsPane content={repository[0]}>
        <SonatypeNexusHardwareRecommendations />

        To complete the installation the following PowerShell modules will be installed from the PowerShell Gallery:

        - [NexuShell](https://nexushell.dev/)

        #### Sonatype Nexus Installation

        <Callout type="info" header="Airgapped Installation">
            If you are deploying the server in an air-gapped environment, please download the offline zip archive and transfer it to the server before continuing with the installation.

            ```powershell
            Set-ExecutionPolicy Bypass -Scope Process -Force
            & ([Scriptblock]::Create([System.Net.WebClient]::New().DownloadString('https://ch0.co/PrepareNexusOffline.ps1')))
            ```
        </Callout>

        This install script will:

        - Configure a production NuGet repository for Chocolatey packages
        - Configure a test NuGet repository for Chocolatey packages
        - Configure a Generic (Raw) repository called `choco-install` for hosting large installation media and PowerShell scripts to onboard workstations with Chocolatey for Business
        - Configure a read-only role for consuming packages
        - Configure a Nexus user account for Chocolatey CLI authentication, added to the created read-only role

        #### Environment Information

        Please provide the following information to configure the Sonatype Nexus Server:

        | Variable | Value | Usage |
        | -------- | ----- | ----- |
        | SSL Certificate DNS Name | <DynamicCodeBlockInput name="CertificateDnsName" defaultValue="Fabrikam.com" /> | The DNS name of your SSL certificate. |
        | Nexus Port Number | <DynamicCodeBlockInput name="NexusPort" defaultValue="8443" /> | The port number you want to use for Nexus. |
        | Production Repository | <DynamicCodeBlockInput name="ProdRepoName" defaultValue="Fabrikam-Prod" /> | The name chosen for your production repository. |
        | Test Repository | <DynamicCodeBlockInput name="TestRepoName" defaultValue="Fabrikam-Test" /> | The name chosen for your test repository. |
        | Package Storage Location | <DynamicCodeBlockInput name="PackageStoragePath" defaultValue="C:\ProgramData\sonatype-work\nexus3\blobs\default" /> | The location you want your packages stored. |

        #### Nexus Install Script

        To complete the installation run the following PowerShell script:

<DynamicCodeBlock language="powershell">
{`
$repositoryArgs = @{
    SslCertificateDnsName = 'CertificateDnsName'
    NexusPortNumber = 'NexusPort'
    ProductionRepository = 'ProdRepoName'
    TestRepository = 'TestRepoName'
    PackageStorageLocation = 'PackageStoragePath'
    Credential = (Get-Credential) # Please replace with your desired credentials
}

$InstallScript = [System.Net.WebClient]::new().DownloadString('https://ch0.co/InstallNexusRepository.ps1')
& ([Scriptblock]::Create($InstallScript)) @repositoryArgs
`}
</DynamicCodeBlock>

    </TabsPane>
</TabsPaneContainer>

## Next Steps

Select **Previous** to return to the Organizational Guide introduction page, or **Next** to move on to the Automation Solution.

<div class="d-flex justify-content-between align-items-center">
    <a role="button" class="btn btn-primary btn-lg" href="/en-us/guides/organizations/new-organizational-deployment-guide/">< Previous</a>
    <div>
        <a role="button" class="btn btn-primary btn-lg" href="/en-us/guides/organizations/new-organizational-deployment-guide/automation-solution">Next ></a>
    </div>
</div>